# Unit Auto

Тестовое задание на позицию стажера/junior бекенд разработчика в юнит Авто
Нужно сделать HTTP сервис для сокращения URL наподобие Bitly и других сервисов.

## Описание

Проект позволяет пользователям создавать короткие ссылки на заданные URL-адреса. Также поддерживается возможность
создания пользовательских коротких ссылок. Проект включает следующие возможности:

- создание коротких ссылок через веб-интерфейс
- создание коротких ссылок через API
- перенаправление на полный URL по короткой ссылке
- валидация введенных URL-адресов.

## Установка и запуск

Для запуска проекта используется Docker и Docker Compose.

1. Убедитесь, что у вас установлены Docker и Docker Compose.
2. Клонируйте репозиторий проекта:

```
git clone https://github.com/RedHotChilliHead/unit_Auto.git
cd unit_Auto
```

3. Соберите и запустите контейнер Docker командой:
   `docker-compose up --build unit_autoapp`

Проект будет доступен по адресу http://localhost:8000/bitly/.

## Использование

### Веб-интерфейс

#### Создание короткой ссылки

1. Перейдите на страницу создания ссылки: http://localhost:8000/bitly/create/
2. Введите полный URL и, при необходимости, кастомный короткий URL.
3. Нажмите "Create a link".

Список ссылок
Для просмотра списка всех созданных ссылок нажмите на "List of links" в верхнем навигационном меню или перейдите по
адресу http://localhost:8000/bitly/list/.

### API

#### Создание короткой ссылки

Метод POST предоставляет короткую ссылку.

#### URL

`POST /bitly/`

#### Пример запроса

```http
POST /bitly/
{
  "full_url": "https://www.google.com"
}
```

Также метод POST предоставляет возможность создания кастомной ссылки, для этого необходимо добавить параметр "
custom_url".

#### Пример запроса на создание кастомной ссылки

```http
POST /bitly/
{
  "full_url": "https://docs.python.org/3/library/datetime.html",
  "custom_url": "mycustomurl"
}
```

### Перенаправление

Для перенаправления на полный URL по короткой ссылке используйте короткий URL. Например, переход по
адресу http://localhost:8000/bitly/mycustomurl/ перенаправит вас на https://docs.python.org/3/library/datetime.html.

### Валидация

Проект включает следующие уровни валидации:

- проверка наличия уже существующей короткой ссылки для данного полного URL.
- проверка наличия уже существующей короткой ссылки с указанным кастомным URL.
- проверка доступности введенного полного URL.

### Тестирование

Проект был протестирован для проверки корректности работы. Тесты включают проверки на создание коротких ссылок,
валидацию и перенаправление.

#### API Tests
- проверка получения стандартной ссылки через API.
- проверка получения кастомной ссылки через API.
- проверка валидации сериализатора

#### UI Tests
- проверка редиректа с короткой на исходную ссылку.
- проверка отображения приглашения для создания короткой ссылки.
- проверка получения стандартной ссылки через UI.
- проверка получения кастомной ссылки через UI.
- проверка валидации формы.

#### Пример запуска

```
python manage.py test bitlyapp.tests
```

#### Проведено нагрузочное тестирование с помощью locust
